(function(a,b,e){var c={key:"form_resume",excludeFields:[],onStored:function(g){}},d={};var f={form:null,formData:{},save:function(){localStorage.setItem(d.key,JSON.stringify(f.formData))},load:function(){f.formData=JSON.parse(localStorage.getItem(d.key));if(f.formData){b.each(Object.keys(f.formData),f.defaultValues)}else{f.formData={}}},destroy:function(){localStorage.removeItem(d.key)},storeData:function(){var i=b(this),h=i.attr("name");if(i.is(":file")||b.inArray(h,d.excludeFields)!==-1){return false}if(i.is(":checkbox")||i.is(":radio")){var g=[];g.push(i.val());i.siblings(":checked").each(function(){g.push(b(this).val())});f.formData[h]=g}else{f.formData[h]=i.val()}f.save();d.onStored(i)},defaultValues:function(g,i){var h=f.form.find('[name="'+i+'"]'),i=f.formData[i];if(typeof h=="Array"){h.filter('[value="'+i+'"]').prop("checked",true)}else{if(!h.is(":submit")){h.val(i)}}}};b.fn.resume=function(g){g=g||{};d=b.extend(c,g);if(typeof localStorage==="undefined"){return false}f.form=b(this);f.load();f.form.find("input, select, textarea").on("change",f.storeData);f.form.on("submit reset",f.destroy);return b(this)}})(window,jQuery);